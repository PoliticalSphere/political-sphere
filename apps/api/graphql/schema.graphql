schema {
  query: Query
  mutation: Mutation
}

type Query {
  posts(first: Int, after: String): PostConnection!
}

type Mutation {
  createPost(input: CreatePostInput!): Post!
}

type PostConnection {
  edges: [PostEdge!]!
  pageInfo: PageInfo!
}

type PostEdge {
  node: Post!
  cursor: String!
}

type PageInfo {
  hasNextPage: Boolean!
  endCursor: String
}

type Post {
  id: ID!
  title: String!
  content: String!
  author: Author!
  stats: PostStats!
  createdAt: String!
}

type Author {
  id: ID!
  name: String!
  avatar: String
}

type PostStats {
  views: Int!
  likes: Int!
  comments: Int!
}

input CreatePostInput {
  title: String!
  content: String!
  status: PostStatus = DRAFT
}

enum PostStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}
